<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>환영합니다</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" as="style" crossorigin
          href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css" />
</head>
<body>
<div class="sidebar">
    <h2 class="sidebar-title">메뉴</h2>
    <ul id="menuList" class="menu-list"></ul>
</div>

<div class="main-content">
    <div class="container">
        <h1>환영합니다, {{ username }}님!</h1>
        <p>성공적으로 로그인되었습니다.</p>
    </div>
</div>

<script>
    const userRole = "{{ role }}";
    const menuList = document.getElementById("menuList");
    let menuItems = [];

    // 역할별 메뉴 (이동 기능 없이 표시용)
    if (userRole === "student") { // 학생 역할인 경우
        menuItems = [
            { name: "시간표", url: "{{ url_for('timetable.timetable') }}" },
            { name: "출석체크", url: "{{ url_for('attendance.show_attendance') }}" },
            { name: "출석관리", url: "{{ url_for('attendance.manage_attendance') }}" },
            { name: "로그아웃", url: "{{ url_for('auth.logout') }}" } 
        ];
    } else if (userRole === "professor") { // 교직원 역할인 경우
        menuItems = [
            { name: "출석 관리", url: "{{ url_for('professor.lecture_list') }}" },
            { name: "시간표", url: "{{ url_for('timetable.timetable') }}" },
            { name: "로그아웃", url: "{{ url_for('auth.logout') }}" }
        ];
    } else {
        menuItems = [ // 기타 역할인 경우. 이런 경우는 사실상 없을 것이지만, Fail-Safe를 위해 추가함.
            { name: "홈", url: "#" },
            { name: "로그아웃", url: "{{ url_for('auth.logout') }}" }
        ];
    }

    // 메뉴 렌더링
    menuItems.forEach(item => {
        const li = document.createElement("li");
        li.innerHTML = `<a href="${item.url}">${item.name}</a>`;
        menuList.appendChild(li);
    });
</script>
</body>
</html>
