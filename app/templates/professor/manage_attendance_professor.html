{% extends "base.html" %}

{% block title %}ì¶œì„ ê´€ë¦¬ - WCheck{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='time_table.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='manage_attendance.css') }}">
{% endblock %}

{% block header %}
    <header class="full-title-header">
        <div class="title-wrap" style="flex-wrap: wrap; gap: var(--spacing-sm);">
            <div style="flex: 1; min-width: 0;">
                <h1 class="page-title" style="font-size: 20px; margin-bottom: var(--spacing-xs);">{{ subject_name or 'ê³¼ëª© ì •ë³´ ì—†ìŒ' }}</h1>
                <span style="font-size: 14px; color: var(--text-muted);">{{ class_date or 'ë‚ ì§œ ì •ë³´ ì—†ìŒ' }}</span>
            </div>
            <a href="{{ url_for('professor.list_subject_sessions', subject_id=subject_id) }}" class="btn btn-secondary btn-sm" style="white-space: nowrap;">â† ìˆ˜ì—… ëª©ë¡ìœ¼ë¡œ</a>
        </div>
    </header>
{% endblock %}

{% block content %}
        <div class="student-list-container card fade-in" style="max-width: 1200px; margin: 0 auto; padding: 0;">
            <!-- ì¶œê²° ìƒíƒœ ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•œ form -->
            <form method="POST" action="{{ url_for('professor.manage_attendance_professor', session_id=session_id) }}" onsubmit="alert('ë³€ê²½ì‚¬í•­ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');">
                <table class="student-table table">
                    <thead>
                        <tr>
                            <th class="col-name">ì´ë¦„</th>
                            <th class="col-id">í•™ë²ˆ</th>
                            <th class="col-major">ì „ê³µ</th>
                            <th class="col-status">ì¶œê²° ìƒíƒœ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- ë°±ì—”ë“œì—ì„œ í•™ìƒ ëª©ë¡(students)ì„ ì „ë‹¬ë°›ì•„ ë°˜ë³µ ì²˜ë¦¬ -->
                        {% for student in students %}
                        <tr style="transition: background-color var(--transition-fast);">
                            <td style="font-weight: 500; color: var(--text-primary);">{{ student.name }}</td>
                            <td style="font-family: 'Courier New', monospace; color: var(--text-secondary);">{{ student.student_number }}</td>
                            <td style="color: var(--text-secondary);">{{ student.student_major }}</td>
                            <td class="status-selector">
                                <div class="radio-group">
                                    <input type="radio" id="present_{{ student.student_id }}" name="status_{{ student.student_id }}" value="PRESENT" {% if student.status == 'PRESENT' %}checked{% endif %}>
                                    <label for="present_{{ student.student_id }}">ì¶œì„</label>

                                    <input type="radio" id="late_{{ student.student_id }}" name="status_{{ student.student_id }}" value="LATE" {% if student.status == 'LATE' %}checked{% endif %}>
                                    <label for="late_{{ student.student_id }}">ì§€ê°</label>

                                    <input type="radio" id="absent_{{ student.student_id }}" name="status_{{ student.student_id }}" value="ABSENT" {% if student.status == 'ABSENT' %}checked{% endif %}>
                                    <label for="absent_{{ student.student_id }}">ê²°ì„</label>
                                </div>
                            </td>
                        </tr>
                        {% else %}
                        <tr>
                            <td colspan="4" class="no-student">ìˆ˜ê°•í•˜ëŠ” í•™ìƒì´ ì—†ìŠµë‹ˆë‹¤.</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                <div class="form-actions" style="padding: var(--spacing-lg); text-align: right; background: var(--bg-tertiary); border-top: 1px solid var(--border-color);">
                    <button type="submit" class="btn btn-primary btn-lg">ğŸ’¾ ë³€ê²½ì‚¬í•­ ì €ì¥</button>
                </div>
            </form>
        </div>
{% endblock %}
